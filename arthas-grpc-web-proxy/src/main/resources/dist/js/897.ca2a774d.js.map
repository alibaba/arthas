{"version":3,"file":"js/897.ca2a774d.js","mappings":"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","sources":["webpack://grpc_web_demo/./src/view/syspropView.vue","webpack://grpc_web_demo/./src/view/syspropView.vue?1cf1"],"sourcesContent":["<template>\r\n  <Row>\r\n    <Col span=\"5\">\r\n      <Card style=\"width:300px \">\r\n        <div style=\"text-align:center\">\r\n          <h3>JobId</h3>\r\n          <h3>{{ jobId }}</h3>\r\n        </div>\r\n      </Card>\r\n\r\n    </Col>\r\n    <Col span=\"19\">\r\n      <Form :model=\"sysGetByKeyModel\" :label-width=\"150\" style=\" margin-top: 20px; justify-content: center;\">\r\n        <FormItem label=\"key\">\r\n          <Input v-model=\"sysGetByKeyModel.key\" placeholder=\"Enter key...\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"value\">\r\n          <Input disabled v-model=\"sysGetByKeyModel.value\" placeholder=\"result value...\"></Input>\r\n        </FormItem>\r\n        <FormItem>\r\n          <Button type=\"primary\" @click=\"getByKey()\">查询</Button>\r\n        </FormItem>\r\n      </Form>\r\n\r\n    </Col>\r\n\r\n  </Row>\r\n\r\n  <table>\r\n    <thead>\r\n    <tr>\r\n      <th>序号</th>\r\n      <th>操作</th> <!-- 添加操作栏的表头 -->\r\n      <th>key</th>\r\n      <th>value</th>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    <tr v-for=\"(item, index) in tableData\" :key=\"index\">\r\n      <td>{{ item.index }}</td>\r\n      <td>\r\n        <Button type=\"primary\" @click=\"handleClick(item)\">修改</Button> <!-- 添加按钮，并绑定点击事件 -->\r\n      </td>\r\n      <td>{{ item.key }}</td>\r\n      <td>{{ item.value }}</td>\r\n    </tr>\r\n    </tbody>\r\n\r\n    <Modal\r\n        v-model=\"modal\"\r\n        title=\"修改\"\r\n        @on-ok = \"sysUpdteByKey\"\r\n        @on-cancel=\"modalCancel\">\r\n      key: {{sysUpdateModel.key}}\r\n      <Input v-model=\"sysUpdateModel.value\" placeholder=\"Enter new value...\"></Input>\r\n\r\n    </Modal>\r\n  </table>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n// 引入自动生成的grpc_web相关的文件\r\n\r\nimport {\r\n  SystemPropertyClient,\r\n} from '@/assets/proto/ArthasServices_grpc_web_pb';\r\n\r\n\r\nimport { Empty } from 'google-protobuf/google/protobuf/empty_pb';\r\nimport { StringKey, StringStringMapValue } from '@/assets/proto/ArthasServices_grpc_web_pb';\r\n\r\n\r\nexport default {\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: 'pwd',\r\n  inject: ['apiHost'],\r\n  data(){\r\n    return {\r\n      sysPropClient: null,\r\n      jobId: 0,\r\n      sysPropResponse: \"www\",\r\n      tableData: [],\r\n      sysGetByKeyModel:{\r\n        key: \"\",\r\n        value: \"\",\r\n      },\r\n      modal: false,\r\n      sysUpdateModel:{\r\n        key: \"\",\r\n        value: \"\"\r\n      }\r\n    };\r\n  },\r\n\r\n\r\n  created() {\r\n    let hostname = this.apiHost;\r\n    this.sysPropClient = new SystemPropertyClient(hostname);\r\n    this.sendSysPropRequest();\r\n    this.metadata = {\"Content-Type\": \"application/grpc-web-text\"};\r\n  },\r\n\r\n  methods:{\r\n\r\n    modalCancel () {\r\n      this.modal = false;\r\n    },\r\n    handleClick(item){\r\n      this.modal = true;\r\n      this.sysUpdateModel.key = item.key\r\n      this.sysUpdateModel.value = item.value\r\n      console.log(item);\r\n    },\r\n    sysUpdteByKey(){\r\n      var sysPropRequest  = new StringStringMapValue();\r\n     sysPropRequest.getStringstringmapMap()\r\n          .set(this.sysUpdateModel.key, this.sysUpdateModel.value);\r\n      const _this = this;\r\n      this.sysPropClient.update(sysPropRequest, {}, (error, response) => {\r\n        if (!error) {\r\n          // 处理成功响应\r\n          _this.jobId = response.getJobid();\r\n          const type = response.getType();\r\n          if(type == \"sysprop\" && response.hasStringstringmapvalue()){\r\n            var stringstringmapvalue = response.getStringstringmapvalue();\r\n            var value = stringstringmapvalue.getStringstringmapMap().get(this.sysUpdateModel.key)\r\n            if(_this.sysUpdateModel.value == value){\r\n              this.$Notice.open({\r\n                title: '修改成功',\r\n                desc:  this.sysUpdateModel.key + \"  \" + \"成功修改为: \" +this.sysUpdateModel.value\r\n              });\r\n              _this.sendSysPropRequest();\r\n              _this.modal = false;\r\n            }\r\n          }\r\n        } else {\r\n          // 处理错误\r\n          console.error(error);\r\n        }\r\n      });\r\n\r\n    },\r\n    getByKey(){\r\n      var sysPropRequest  = new StringKey();\r\n      this.sysGetByKeyModel.key = this.sysGetByKeyModel.key.trim();\r\n      sysPropRequest.setKey(this.sysGetByKeyModel.key);\r\n      const _this = this;\r\n      this.sysPropClient.getByKey(sysPropRequest, {}, (error, response) => {\r\n        if (!error) {\r\n          // 处理成功响应\r\n          _this.jobId = response.getJobid();\r\n          const type = response.getType();\r\n          if(type == \"sysprop\" && response.hasStringstringmapvalue()){\r\n            var stringstringmapvalue = response.getStringstringmapvalue();\r\n            _this.sysGetByKeyModel.value = stringstringmapvalue.getStringstringmapMap().get(this.sysGetByKeyModel.key)\r\n          }\r\n        } else {\r\n          // 处理错误\r\n          console.error(error);\r\n        }\r\n      });\r\n\r\n    },\r\n    sendSysPropRequest(){\r\n      var sysPropRequest  = new Empty();\r\n      this.tableData = []\r\n      const _this = this;\r\n      this.sysPropClient.get(sysPropRequest, {}, (error, response) => {\r\n        if (!error) {\r\n          // 处理成功响应\r\n          _this.jobId = response.getJobid();\r\n          const type = response.getType();\r\n          if(type == \"sysprop\" && response.hasStringstringmapvalue()){\r\n            var stringstringmapvalue = response.getStringstringmapvalue();\r\n            var sysPropResponse = stringstringmapvalue.getStringstringmapMap();\r\n            var index = 1;\r\n            sysPropResponse.forEach((value, key) => {\r\n              var cur_dir = {}\r\n              cur_dir['index'] = index;\r\n              cur_dir['key'] = key;\r\n              cur_dir['value'] = value;\r\n              _this.tableData.push(cur_dir)\r\n              index = index + 1;\r\n            });\r\n          }\r\n        } else {\r\n          // 处理错误\r\n          console.error(error);\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\nh3 {\r\n  margin: 40px 0 0;\r\n}\r\nul {\r\n  list-style-type: none;\r\n  padding: 0;\r\n}\r\nli {\r\n  display: inline-block;\r\n  margin: 0 10px;\r\n}\r\na {\r\n  color: #42b983;\r\n}\r\n\r\n#watchRequest {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start; /* 左对齐 */\r\n  justify-content: center\r\n}\r\n#objectRequest {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start; /* 左对齐 */\r\n  justify-content: center\r\n}\r\nlabel {\r\n  margin-right: 10px; /* 标签与输入框之间的右边距 */\r\n  align-items: flex-start; /* 左对齐 */\r\n}\r\n\r\ntable {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n}\r\n\r\nth, td {\r\n  border: 1px solid #ccc;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\n\r\nth {\r\n  background-color: #f2f2f2;\r\n}\r\n.preserve-whitespace {\r\n  white-space: pre-wrap; /* 保留换行符并折叠连续的空白字符 */\r\n}\r\n\r\n.preserve-whitespace2 {\r\n  white-space: pre-wrap; /* 保留换行符并折叠连续的空白字符 */\r\n  text-align: left;\r\n\r\n}\r\n#tree{\r\n  margin-left: 50px;\r\n  white-space: pre-wrap; /* 保留换行符并折叠连续的空白字符 */\r\n  text-align: left;\r\n}\r\n</style>\r\n","import { render } from \"./syspropView.vue?vue&type=template&id=d966b752&scoped=true\"\nimport script from \"./syspropView.vue?vue&type=script&lang=js\"\nexport * from \"./syspropView.vue?vue&type=script&lang=js\"\n\nimport \"./syspropView.vue?vue&type=style&index=0&id=d966b752&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d966b752\"]])\n\nexport default __exports__"],"names":["style","_createElementVNode","_createVNode","_component_Row","_component_Col","span","_component_Card","_hoisted_1","_hoisted_2","_toDisplayString","$data","jobId","_component_Form","model","sysGetByKeyModel","_component_FormItem","label","_component_Input","key","$event","placeholder","disabled","value","_component_Button","type","onClick","_cache","$options","getByKey","_hoisted_4","_createElementBlock","_Fragment","_renderList","tableData","item","index","handleClick","_component_Modal","modal","title","onOnOk","sysUpdteByKey","onOnCancel","modalCancel","sysUpdateModel","name","inject","data","sysPropClient","sysPropResponse","created","hostname","this","apiHost","SystemPropertyClient","sendSysPropRequest","metadata","methods","console","log","sysPropRequest","StringStringMapValue","getStringstringmapMap","set","_this","update","error","response","getJobid","getType","hasStringstringmapvalue","stringstringmapvalue","getStringstringmapvalue","get","$Notice","open","desc","StringKey","trim","setKey","Empty","forEach","cur_dir","push","__exports__","render"],"sourceRoot":""}