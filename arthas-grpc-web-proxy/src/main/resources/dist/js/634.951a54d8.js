"use strict";(self["webpackChunkgrpc_web_demo"]=self["webpackChunkgrpc_web_demo"]||[]).push([[634],{5378:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var a=l(3396);const s=(0,a.Uk)("查询"),n=(0,a.Uk)("清除结果");function o(e,t,l,o,c,r){const i=(0,a.up)("Input"),d=(0,a.up)("FormItem"),u=(0,a.up)("Col"),h=(0,a.up)("Row"),p=(0,a.up)("Button"),m=(0,a.up)("Form"),g=(0,a.up)("Tree");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(m,{model:c.objectQueryModel,"label-width":150,style:{"margin-top":"20px","justify-content":"center"}},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{span:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"className"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:c.objectQueryModel.className,"onUpdate:modelValue":t[0]||(t[0]=e=>c.objectQueryModel.className=e),placeholder:"Enter className..."},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{span:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"ClassLoaderHash"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:c.objectQueryModel.classLoaderHash,"onUpdate:modelValue":t[1]||(t[1]=e=>c.objectQueryModel.classLoaderHash=e),placeholder:"Enter classLoaderHash..."},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{span:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"classLoaderClass"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:c.objectQueryModel.classLoaderClass,"onUpdate:modelValue":t[2]||(t[2]=e=>c.objectQueryModel.classLoaderClass=e),placeholder:"Enter classLoaderClass..."},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{span:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"limit"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"number",modelValue:c.objectQueryModel.limit,"onUpdate:modelValue":t[3]||(t[3]=e=>c.objectQueryModel.limit=e),placeholder:"Enter className..."},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),(0,a._)("div",null,[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{span:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"depth"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"number",modelValue:c.objectQueryModel.depth,"onUpdate:modelValue":t[4]||(t[4]=e=>c.objectQueryModel.depth=e),placeholder:"Enter depth..."},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(u,{span:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{label:"express"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:c.objectQueryModel.express,"onUpdate:modelValue":t[5]||(t[5]=e=>c.objectQueryModel.express=e),placeholder:"Enter express..."},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})]),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"primary",onClick:r.sendObjectRequest},{default:(0,a.w5)((()=>[s])),_:1},8,["onClick"]),(0,a.Wm)(p,{style:{"margin-left":"8px"},onClick:r.clear},{default:(0,a.w5)((()=>[n])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"]),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{span:"8"}),(0,a.Wm)(u,{span:"8"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{id:"tree",data:this.treeData},null,8,["data"])])),_:1}),(0,a.Wm)(u,{span:"8"})])),_:1})],64)}l(7658);var c=l(3378),r={name:"vmtool",inject:["apiHost"],data(){return{objectClient:null,metadata:{},objectQueryModel:{className:"com.taobao.arthas.grpcweb.grpc.objectUtils.ComplexObject",classLoaderHash:0,classLoaderClass:"",express:"instances",depth:2,limit:3},treeData:[]}},created(){let e=this.apiHost;this.objectClient=new c.ObjectServiceClient(e),this.metadata={"Content-Type":"application/grpc-web-text"}},methods:{clear(){this.treeData=[]},resetAllRequestParams(){this.objectQueryModel.className="demo.MathGame",this.objectQueryModel.classLoaderClass="",this.objectQueryModel.classLoaderHash="",this.objectQueryModel.express="instances[0]"},sendObjectRequest(){const e=new c.ObjectQuery;e.setClassname(this.objectQueryModel.className).setLimit(this.objectQueryModel.limit).setDepth(this.objectQueryModel.depth).setJobid(this.objectQueryModel.jobId).setResultid(this.objectQueryModel.resultId).setExpress(this.objectQueryModel.express).setResultexpress(this.objectQueryModel.resultExpress),this.objectClient.query(e,{},((e,t)=>{if(e)console.error(e);else{this.treeData=[],console.log("response",t),console.log("response.sucess",t.getSuccess()),console.log("response.message",t.getMessage());const e=t.getObjectsList();e.forEach((e=>{const t=this.getObject(e);t["expand"]=!0,this.treeData.push(t)}))}}))},getBasicvalue(e){const t={};let l,a;return e.hasInt()?(l=e.getInt(),a="java.lang.Integer"):e.hasLong()?(l=e.getLong(),a="java.lang.Long"):e.hasFloat()?(l=e.getFloat(),a="java.lang.Float"):e.hasDouble()?(l=e.getDouble(),a="java.lang.Double"):e.hasBoolean()?(l=e.getBoolean(),a="java.lang.Boolean"):e.hasString()&&(l=e.getString(),a="java.lang.String"),t["title"]=l+" (@"+a,t},getArrayElements(e){const t={};let l="element";try{l=e.getName()}catch(a){try{l=e.getClassname()}catch(a){console.log()}}if(e.hasObjectvalue())t["title"]=l+" (@Object",t["children"]=[],t["children"].push(this.getObject(e.getObjectvalue()));else if(e.hasBasicvalue()){const a=e.getBasicvalue();"element"==l||this.isBasicType(l)?t["title"]=this.getBasicvalue(a)["title"]:(t["title"]=l+" (@Basic",t["children"]=[],t["children"].push(this.getBasicvalue(a)))}else if(e.hasArrayvalue()){const a=e.getArrayvalue();t["title"]=l+" (@ArrayList",t["children"]=[];const s=a.getElementsList();s.forEach((e=>{t["children"].push(this.getArrayElements(e))}))}else e.hasNullvalue()?(t["title"]=l+" (@null",t["children"]=[],t["children"].push({title:"(null)"+e.getNullvalue().getClassname()})):e.hasUnexpandedobject()&&(t["title"]=l+" (@Unexpand",t["children"]=[],t["children"].push({title:" (Unexpand) "+e.getUnexpandedobject().getClassname()}));return t},getObject(e){const t={};let l="";try{l=e.getName()}catch(a){try{l=e.getClassname()}catch(a){console.log()}}if(e.hasObjectvalue())t["title"]=l+" (@Object",t["children"]=[],t["children"].push(this.getObject(e.getObjectvalue()));else if(e.hasBasicvalue()){const a=e.getBasicvalue();""==l||this.isBasicType(l)?t["title"]=this.getBasicvalue(a)["title"]:(t["title"]=l+" (@Basic",t["children"]=[],t["children"].push(this.getBasicvalue(a)))}else if(e.hasArrayvalue()){const a=e.getArrayvalue();t["title"]=l+" (@ArrayList",t["children"]=[];const s=a.getElementsList();s.forEach((e=>{t["children"].push(this.getArrayElements(e))}))}else if(e.hasNullvalue())t["title"]=l+" (@null",t["children"]=[],t["children"].push({title:"(@null)"+e.getNullvalue().getClassname()});else if(e.hasCollection()){t["title"]=l+" (@Collection",t["children"]=[];const a=e.getCollection().getElementsList();a.forEach((e=>{t["children"].push(this.getObject(e))}))}else if(e.hasMap()){t["title"]=l+" (@Map",t["children"]=[];const a=e.getMap().getEntriesList();a.forEach((e=>{const l={},a={},s={};l["title"]="Entry",l["children"]=[],a["title"]="key",a["children"]=[],a["children"].push(this.getObject(e.getKey())),l["children"].push(a),s["title"]="value",s["children"]=[],s["children"].push(this.getObject(e.getValue())),l["children"].push(s),t["children"].push(l)}))}else if(e.hasUnexpandedobject())t["title"]=l+" (@Unexpand",t["children"]=[],t["children"].push({title:" (@Unexpand) "+e.getUnexpandedobject().getClassname()});else if(e.hasFields()){t["title"]=l,t["children"]=[];const a=e.getFields().getFieldsList();a.forEach((e=>{t["children"].push(this.getObject(e))}))}return t},isBasicType(e){return"java.lang.String"==e||"java.lang.Integer"==e||"java.lang.Long"==e||"java.lang.Float"==e||"java.lang.Double"==e||"java.lang.Boolean"==e}}},i=l(89);const d=(0,i.Z)(r,[["render",o],["__scopeId","data-v-18f3eeca"]]);var u=d}}]);
//# sourceMappingURL=634.951a54d8.js.map