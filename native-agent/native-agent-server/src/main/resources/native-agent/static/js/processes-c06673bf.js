import{_ as f,d as v,r as g,o as y,a as l,b as i,e as t,F,f as P,t as p,g as m,c as w}from"./main-38ee3337.js";import{a as d}from"./axios-1e59ba81.js";const B={class:"table table-normal w-[100vw]"},A=t("thead",null,[t("tr",null,[t("th",{class:"normal-case"},"Process Name"),t("th",{class:"normal-case"},"Pid"),t("th",{class:"normal-case"},"Option"),t("th",{class:"normal-case"},[t("a",{class:"btn btn-primary btn-sm",href:"/"},"back to menu")])])],-1),C=["onClick"],D=v({__name:"Process",setup(N){const r=g([]),n=new URLSearchParams(window.location.search),c=n.get("ip"),u=n.get("httpPort"),h=n.get("wsPort"),b=async()=>{let s="http://"+c+":"+u+"/api/native-agent";const a={operation:"listProcess"};try{const e=await d.post(s,a);Array.isArray(e.data)&&r.splice(0,r.length,...e.data)}catch{}},_=async s=>{try{let a="http://"+c+":"+u+"/api/native-agent";const e={operation:"monitor",pid:s.pid},o=await d.post(a,e);o.status!==200?alert("attach\u5931\u8D25"):o.data===-1?alert("attach\u5931\u8D25\uFF0C\u7AEF\u53E38563\u88AB\u5176\u4ED6\u8FDB\u7A0B\u5360\u7528"):window.location.href=`console.html?ip=${c}&port=${h}`}catch{alert("\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u6216\u7A0D\u540E\u518D\u8BD5\u3002")}};return y(()=>{b()}),(s,a)=>(l(),i("table",B,[A,t("tbody",null,[(l(!0),i(F,null,P(r,(e,o)=>(l(),i("tr",{key:o,class:"hover"},[t("td",null,p(e.processName),1),t("td",null,p(e.pid),1),t("td",null,[m(' <button @click="attachJavaProcess(javaProcessInfoRecord, index)" class="btn btn-primary btn-sm">Attach</button> '),m(' <a class="btn btn-primary btn-sm" :href="generateMonitorLink(javaProcessInfoRecord)">monitor</a> '),t("a",{class:"btn btn-primary btn-sm",onClick:x=>_(e)},"monitor",8,C)])]))),128))])]))}});var k=f(D,[["__file","D:/code/java/read/arthas/web-ui/arthasWebConsole/all/native-agent/src/Process.vue"]]);const E=w(k);E.mount("#app");
